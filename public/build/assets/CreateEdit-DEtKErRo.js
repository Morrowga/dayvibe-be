import{k as D,l as E,r as u,o as C,f as h,b as s,a as l,w as d,d as v,n as I,e as k,T as N,u as o,F as O,Z as P,t as z}from"./app-BPDY-wR_.js";/* empty css                                                                       */import{_ as M}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as F,a as f}from"./InputLabel-CLn-1eA7.js";import{_ as Z}from"./AuthenticatedLayout-B5hwNUSN.js";const A={class:"file-upload-card"},G={key:0,class:"icon-wrapper"},H={key:1,class:"image-preview"},J=["src"],K={__name:"FileUploadCard",props:{previewUrl:{type:String}},emits:["fileSelected","previewChange"],setup(T,{emit:e}){const r=T,t=D(r==null?void 0:r.previewUrl),p=D(null),S=()=>{p.value.click()};E(()=>r==null?void 0:r.previewUrl,i=>{t.value=i});const m=e,g=i=>{const a=i.target.files[0];a&&(t.value=URL.createObjectURL(a),m("fileSelected",a),m("previewChange",t.value))},y=i=>{i.currentTarget.classList.add("drag-over")},V=i=>{i.currentTarget.classList.remove("drag-over")},w=i=>{i.currentTarget.classList.remove("drag-over");const a=i.dataTransfer.files[0];a&&(t.value=URL.createObjectURL(a),m("file-selected",a))};return(i,a)=>{const x=u("v-icon");return C(),h("div",A,[s("div",{class:I(["upload-area",{"has-image":t.value}]),onDragover:k(y,["prevent"]),onDragleave:k(V,["prevent"]),onDrop:k(w,["prevent"]),onClick:S},[s("input",{type:"file",ref_key:"fileInput",ref:p,accept:"image/*",class:"file-input",onChange:g},null,544),t.value?(C(),h("div",H,[s("img",{src:t.value,alt:"Uploaded Image"},null,8,J)])):(C(),h("div",G,[l(x,null,{default:d(()=>a[0]||(a[0]=[v("mdi-upload")])),_:1}),a[1]||(a[1]=s("p",null,"Drag and drop an image or click to upload",-1))]))],34)])}}},Q=M(K,[["__scopeId","data-v-c9b7d6b6"]]),W={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Y={class:"d-flex justify-start"},ee={style:{width:"100%"}},te={class:"d-flex justify-start"},le={style:{width:"100%"}},ne={class:"d-flex justify-start mt-5"},se={style:{width:"100%"}},oe={class:"d-flex justify-start"},ae={style:{width:"100%"}},ie={class:"d-flex justify-start"},de={style:{width:"100%"}},re={class:"my-3 d-flex justify-end"},ve={__name:"CreateEdit",props:["brands","content"],setup(T){var g,y,V,w,i,a,x;const e=T,r=D(((g=e==null?void 0:e.content)==null?void 0:g.image_url)??null),t=N({title:((y=e==null?void 0:e.content)==null?void 0:y.title)??"",content:((V=e==null?void 0:e.content)==null?void 0:V.content)??"",slug:((w=e==null?void 0:e.content)==null?void 0:w.slug)??"burmaworld-content",description:((i=e==null?void 0:e.content)==null?void 0:i.description)??"",display_url:(a=e==null?void 0:e.content)==null?void 0:a.display_url,brand_id:((x=e==null?void 0:e.content)==null?void 0:x.brand_id)??"",image:null}),p=_=>{t.image=_},S=_=>{r.value=_},m=()=>{const n=!!(e!=null&&e.content)?route("contents.update",e.content.id)+"?_method=PUT":route("contents.store");t.post(n,{preserveScroll:!0,onSuccess:()=>{t.reset(),r.value=""},onError:b=>{console.error("Form submission error:",b)}})};return(_,n)=>{const b=u("VTextField"),j=u("VSelect"),U=u("VCol"),L=u("VTextarea"),$=u("VRow"),B=u("VBtn"),R=u("VCardText"),q=u("VCard");return C(),h(O,null,[l(o(P),{title:"News"}),l(Z,null,{header:d(()=>n[5]||(n[5]=[s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"News",-1)])),default:d(()=>[s("div",W,[s("div",X,[l(q,null,{default:d(()=>[l(R,{style:{padding:"2rem"}},{default:d(()=>[s("form",{onSubmit:k(m,["prevent"]),enctype:"multipart/form-data"},[l($,null,{default:d(()=>[l(U,{cols:"6",class:"py-0"},{default:d(()=>[s("div",Y,[s("div",ee,[l(F,null,{default:d(()=>n[6]||(n[6]=[v("Title")])),_:1}),l(b,{density:"compact",variant:"outlined",id:"title",type:"text",class:"mt-1 block w-full",modelValue:o(t).title,"onUpdate:modelValue":n[0]||(n[0]=c=>o(t).title=c),required:""},null,8,["modelValue"])])]),l(f,{class:"my-2",message:o(t).errors.title},null,8,["message"]),s("div",te,[s("div",le,[l(F,null,{default:d(()=>n[7]||(n[7]=[v("Brand")])),_:1}),l(j,{modelValue:o(t).brand_id,"onUpdate:modelValue":n[1]||(n[1]=c=>o(t).brand_id=c),id:"brand_id",variant:"outlined",density:"compact",required:"","hide-details":"",items:e==null?void 0:e.brands,"item-value":"id","item-title":"name"},null,8,["modelValue","items"]),l(f,{class:"my-2",message:o(t).errors.brand_id},null,8,["message"])])]),s("div",ne,[s("div",se,[l(F,null,{default:d(()=>n[8]||(n[8]=[v("Display Url")])),_:1}),l(b,{density:"compact",variant:"outlined",id:"display_url",type:"text",class:"mt-1 block w-full",modelValue:o(t).display_url,"onUpdate:modelValue":n[2]||(n[2]=c=>o(t).display_url=c),required:""},null,8,["modelValue"])])]),l(f,{class:"mt-2",message:o(t).errors.content},null,8,["message"])]),_:1}),l(U,{cols:"6",class:"py-0"},{default:d(()=>[l(Q,{onFileSelected:p,onPreviwChange:S,previewUrl:r.value},null,8,["previewUrl"])]),_:1}),l(U,{cols:"12",class:"py-0 mt-5"},{default:d(()=>[s("div",oe,[s("div",ae,[l(L,{density:"compact",variant:"outlined",id:"description",type:"text",class:"mt-1 block w-full",modelValue:o(t).description,"onUpdate:modelValue":n[3]||(n[3]=c=>o(t).description=c),required:""},null,8,["modelValue"])])]),l(f,{class:"mt-2",message:o(t).errors.content},null,8,["message"])]),_:1}),l(U,{cols:"12",class:"py-0"},{default:d(()=>[s("div",ie,[s("div",de,[l(L,{density:"compact",variant:"outlined",id:"content",type:"text",class:"mt-1 block w-full",modelValue:o(t).content,"onUpdate:modelValue":n[4]||(n[4]=c=>o(t).content=c),required:""},null,8,["modelValue"])])]),l(f,{class:"mt-2",message:o(t).errors.content},null,8,["message"])]),_:1})]),_:1}),s("div",re,[l(B,{type:"submit",color:"primary"},{default:d(()=>[v(z(e!=null&&e.content?"Update":"Create"),1)]),_:1})])],32)]),_:1})]),_:1})])])]),_:1})],64)}}};export{ve as default};
